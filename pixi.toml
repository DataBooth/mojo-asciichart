[workspace]
authors = ["Michael Booth <michael@databooth.com.au>"]
channels = ["conda-forge", "https://conda.modular.com/max"]
name = "mojo-asciichart"
platforms = ["osx-arm64", "linux-64"]
version = "0.1.0"

[activation]
env = { MOJO_PATH = "$PIXI_PROJECT_ROOT/src" }

[tasks]
# Development tasks
mojo-version = "mojo --version"

# Individual tests (for quick iteration)
test-basic = "mojo -I src tests/test_basic.mojo"
test-plot = "mojo -I src tests/test_plot.mojo"
test-compat = "mojo -I src tests/test_python_compat.mojo"
test-compare-python = "python tests/compare_with_python.py"
test-interop = "mojo -I src tests/test_python_interop.mojo"

# Run all tests
test-all = """bash -c '
set -e
echo "=== Running All Tests ==="
for test_file in tests/test_*.mojo; do
  echo ""
  mojo -I src "$test_file"
done
echo ""
echo "=== All Tests Complete! ==="
'"""

# Build tasks
build-package = "mkdir -p dist && mojo package src/asciichart -o dist/asciichart.mojopkg"
clean = "rm -rf dist __pycache__ .pytest_cache asciichart.mojopkg"

# Example tasks
example-simple = "mojo -I src examples/simple.mojo"
example-sine = "mojo -I src examples/sine.mojo"
example-gallery = "mojo -I src examples/gallery.mojo"
example-snoopy = "mojo -I src examples/snoopy.mojo"
example-snowflake = "mojo -I src examples/snowflake.mojo"
example-colors = "mojo -I src examples/colors.mojo"
example-australia = "mojo -I src examples/australia.mojo"

# Benchmark tasks
bench-plotting = "mojo -I src -I libs/benchsuite/src benchmarks/bench_plotting.mojo"

# Code quality tasks (placeholder for future pre-commit hooks)
# pre-commit = "pre-commit run --all-files"
# pre-commit-install = "pre-commit install"

[dependencies]
max = ">=25.7.0,<26"
python = ">=3.10,<4"
asciichartpy = ">=1.5.25,<2"
